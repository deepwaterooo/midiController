#+latex_class: cn-article
#+latex_header: \lstset{language=c++,numbers=left,numberstyle=\tiny,basicstyle=\ttfamily\small,tabsize=4,frame=none,escapeinside=``,extendedchars=false,keywordstyle=\color{blue!70},commentstyle=\color{red!55!green!55!blue!55!},rulesepcolor=\color{red!20!green!20!blue!20!}}
#+title: MIDI Command Controller Interface
#+author: Heyan Huang

* 11/21/2014 Update
[[./pic/2014-11-20_21:52:19.png]]

* main functionality
** Read data from MIDI
  - Use the MIDI Controller as a speical Controller that can be operated to play specific songs sequence, or do some specific work.
  - play specific sequence may be the work for keys 0-9, and 10-12, how about other 20 keys? Do they require specific work to be done?

** Write data back to MIDI
  - When a key was pushed, the specific Controller key's LED is supposed to be on to indicate the operation. 
  - Trick about the LED to be continuously on is that when a key is pressed, that is 1 byte that indicates the "Duration" of the key press, I may need to 
    - try to set this byte to be a large value, (1 byte, 2^8 = 256, it has limits!)
    - or continuously reset is to be that large value;
    - or continuously write this key to be pressed data back to MIDI with time intervals

* Programming Language
** Qt
  - the worries that I have by using Qt is that if Qt has the capability to handle the MIDI-Linux connection problems. 
  - And also Qt-to-Audio (linux) connection things as well. Should it be Qt, or as far as I can set it to work in Linux, just let it be that way then?
** c++
  - I believe C++ is the most widely used Language used by those midi sequencer softwares, so I have no better choice than c++ right now. 

* Interface Design
[[./menu.png]]

[[./midi.jpg]]

* Midi keys and corresponded operations
#+caption: midi keys and corresponded operations
|---------+---------------------|
| Keys    | Commands            |
|---------+---------------------|
| 10      |                     |
| 11      |                     |
| 12      |                     |
| channel |                     |
| Rotate  |                     |
| CoMA    |                     |
| Xpose   |                     |
| Rec     |                     |
| Stop    |                     |
| Play    |                     |
|---------+---------------------|
| 0       | Call Me Maybe       |
| 1       | Shake It Off        |
| 2       | All About That Bass |
| 3       | ...                 |
| 4       |                     |
| 5       |                     |
| 6       |                     |
| 7       |                     |
| 8       |                     |
| 9       |                     |
|---------+---------------------|
| Notes:  |                     |
| CC      |                     |
| Bend    |                     |
| AftTch  |                     |
| ChnPres |                     |
|---------+---------------------|
| Togl A  |                     |
| Velo B  |                     |
| Preset  |                     |
| Pres C  |                     |
| Tilt D  |                     |
| Bend    |                     |
| Oct-    |                     |
| Oct+    |                     |
|---------+---------------------|

* Interface Guide
  - Give text instructions on how to use the Interface, and what are the corresponded operations by press specific keys. 
  - Like list the above table in the Interface Guide text area. 
